## `webpack`配置`CSS3`响应式布局

### 1、`CSS3`响应式布局背景介绍

​		**回应式网页设计**（英语：Responsive Web Design，通常缩写为**`RWD`**），或称**自适应网页设计**、**响应式网页设计**、**对应式网页设计**。 是一种网页设计的技术，这种设计可使网站在不同的设备（从桌面电脑显示器到移动电话或其他移动设备）上浏览时对应不同分辨率皆有适合的呈现，减少用户进行缩放、平移和滚动等操作行为。

<img src="https://raw.githubusercontent.com/YuanWenLai/Note.IO/main/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%AD%A6%E4%B9%A0/webpack/imgaes/css_rem.png"  />



### 2、`CSS3`媒体查询实现响应式布局

- 缺陷：针对不同的设备，需要编写多套适配的样式代码

```css
@media screen and (max-width: 980px) {
    .header {
        width: 900px
    }
}
@media screen and (max-width: 480px) {
    .header {
        width: 400px
    }
}
@media screen and (max-width: 350px) {
    .header {
        width: 300px
    }
}
```



### 3、rem是什么？

- `rem（font size of the root element）`是指相对于根元素的字体大小的单位。  

- `em（font size of the element）`是指相对于父元素的字体大小的单位。

- 简单的说它们就是一个相对单位，而`px`是绝对单位。

  

### 4、移动端`css px`自动转换成`rem`

使用`px2rem-loader`,可以使用手机淘宝的`lib-fixble`库

```js
module.export = {
    module: {
        rules:[
            {
                test: /\.scss$/,
                use: [
                    'style-loader',
                    'css-loader',
                    'sass-loader',
                    {
                        loader: 'px2rem-loader',
                        options: {
                            remUnit:75,
                            remPrecision: 8
                        }
                    }
                ]
            }
        ]
    }
}
```



### 5、利用手淘的`lib-flexible`来动态计算不同设备的根`font-size`

​		上一步已经将`px`转化为`rem`，但还没达到动态响应的效果，因为切换不同移动设备时，根元素的字体大小不会动态改变。

```html
// 在项目模板index.html中引入lib-flexible.js

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>webpack学习</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <script src="../lib-flexible/lib-flexible.js"></script> 
</head>
<body>
  <div id="app"></div>
</body>
</html>
```

总结：通过`px2rem-loader`来实现打包时，`px`转化为`rem`，再通过`lib-flexible`动态计算根元素的字体大小,就能达到动态响应不同设备的渲染。



### 6、`viewport`视口单位的优势，兼容性更强！

由于`viewport`单位得到众多浏览器的兼容，`lib-flexible`这个过渡方案已经可以放弃使用，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使用`viewport`来替代此方法。

根据`CSS3`规范，视口百分比单位相对于初始包含块的大小，它是web页面的根元素。

视口单位为：`vw`，`vh`，`vmin`和`vmax`。

see: https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts